{"slots":{"0":{"name":"container1","type":{"events":[],"methods":[]}},"1":{"name":"screen1","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"--Global\nversion = \"v0.1\"\nbg_pic = \"assets.prod.novaquark.com/72511/428bafdf-f19c-4bdb-8610-5f81d9fd6424.jpg\" --export: Background picture\nsale_header = \"TEST Header\" --export: Insert your heading line\nsale_pic = \"assets.prod.novaquark.com/72511/03121bb6-c2d6-4330-9b3a-8aa124995cd0.jpg\" --export: Insert a picture link of you item for sale - format 4:3\nsale_price = 123456 --export: Price per Batch\nsale_volume = \"12 qm\" --export: Notifier for the batch volume\nbg_color_red = 0 --export: Background color red - value 0-1\nbg_color_green = 0.3 --export: Background color red - value 0-1\nbg_color_blue = 0.3 --export: Background color red - value 0-1\nbg_color_trans = 0.8 --export: Background transparency - value 0-1\nhead_color_red = 1 --export: Header description text color red - value 0-1\nhead_color_green = 1 --export: Header description text color green - value 0-1\nhead_color_blue = 1 --export: Header description text color blue - value 0-1\nhead_color_trans = 1 --export: Header description text transparency - value 0\ndesc_color_red = 1 --export: Right description text color red - value 0-1\ndesc_color_green = 1 --export: Right description text color green - value 0-1\ndesc_color_blue = 1 --export: Right description text color blue - value 0-1\ndesc_color_trans = 1 --export: Right description text transparency - value 0-1\ntext_line_1 = \"L1 34char text test\" --export\ntext_line_2 = \"L2 34char\" --export\ntext_line_3 = \"L3 34char\" --export\ntext_line_4 = \"L4 34char\" --export\ntext_line_5 = \"L5 34char\" --export\ntext_line_6 = \"L6 34char\" --export\ntext_line_7 = \"L7 34char\" --export\ntext_line_8 = \"L8 34char\" --export\ntext_line_9 = \"L9 34char\" --export\ntext_line_10 = \"L10 34char\" --export\ntext_line_11 = \"L11 34char\" --export\n\n\n\n-- Init Container Update\ncontainer1.updateContent()\n\n-- Init Screen\nscreen1.activate()\n\n\n-- Set update timer\nunit.setTimer(\"upd\", 5)\n\n--Container check and output\nF_container_update()\n\n-- Screen Text\nF_update_screen()\n","filter":{"args":[],"signature":"onStart()","slotKey":"-1"},"key":"0"},{"code":"-- Update Container\nF_container_update()\n-- Update Screen\nF_update_screen()","filter":{"args":[{"value":"upd"}],"signature":"onTimer(tag)","slotKey":"-1"},"key":"1"},{"code":"-- Update Container\nF_container_update()\n-- Set inactive info\nupd_time_msg = \"--INACTIVE--\"\n-- Update Screen\nF_update_screen()","filter":{"args":[],"signature":"onStop()","slotKey":"-1"},"key":"2"},{"code":"screenContent = [[\n\n--------screenContent--------\n-- Layer levels\nlocal layer_bg = createLayer()\nlocal layer = createLayer()\nlocal layer2 = createLayer()\n\n-- Misc\nlocal rx, ry = getResolution()\n\n-- Fonts\nlocal font = loadFont(\"RefrigeratorDeluxe\", rx*0.07)\nlocal font_normal = loadFont(\"RefrigeratorDeluxe\", rx*0.035)\nlocal font_small = loadFont(\"Play\", rx*0.025)\nlocal font_system = loadFont(\"RobotoCondensed\", rx*0.02)\n\n-- Background\naddImage(layer_bg, loadImage(bg_pic), 0, 0, rx, ry)\n\n--- Boxes and Frames\n-- top full\nsetNextFillColor(layer, bg_red, bg_green, bg_blue, bg_trans) \naddBoxRounded(layer, rx*0.02, ry*0.03, rx*0.96, ry*0.15, 4)\n-- bg image left\nsetNextFillColor(layer, 0.4, 0.4, 0.4, 0.9)\naddBoxRounded(layer, rx*0.02, ry*0.2, rx*0.43, ry*0.55, 4)\n-- text right\nsetNextFillColor(layer, 0.4, 0.4, 0.4, 0.9)\naddBoxRounded(layer, rx*0.46, ry*0.2, rx*0.52, ry*0.72, 4)\n-- quantity bottom\nsetNextFillColor(layer, bg_red, bg_green, bg_blue, bg_trans) \naddBoxRounded(layer, rx*0.02, ry*0.77, rx*0.43, ry*0.15, 4)\n\n--- Text Left Column\nsetDefaultFillColor(layer, Shape_Text, hd_red, hd_green, hd_blue, hd_trans) \n-- header\naddText(layer, font, item_header, rx*0.05, ry*0.15)\n-- picture\naddImage(layer2, loadImage(item_pic), rx*0.035, ry*0.22, rx*0.4, rx*0.3)\n-- qty + price\naddText(layer, font_normal, \"Qty: \"..quantity_scr_msg, rx*0.05, ry*0.83)\naddText(layer, font_normal, \"Price: \"..sale_price..\" q / \"..sale_volume, rx*0.05, ry*0.9)\n\n--- Text Right Column\n-- description text\nsetDefaultFillColor(layer, Shape_Text, desc_red, desc_green, desc_blue, desc_trans) \naddText(layer, font_small, text_L1, rx*0.48, ry*0.28)\naddText(layer, font_small, text_L2, rx*0.48, ry*0.34)\naddText(layer, font_small, text_L3, rx*0.48, ry*0.40)\naddText(layer, font_small, text_L4, rx*0.48, ry*0.46)\naddText(layer, font_small, text_L5, rx*0.48, ry*0.52)\naddText(layer, font_small, text_L6, rx*0.48, ry*0.58)\naddText(layer, font_small, text_L7, rx*0.48, ry*0.64)\naddText(layer, font_small, text_L8, rx*0.48, ry*0.70)\naddText(layer, font_small, text_L9, rx*0.48, ry*0.76)\naddText(layer, font_small, text_L10, rx*0.48, ry*0.82)\naddText(layer, font_small, text_L11, rx*0.48, ry*0.88)\n\n--- Bottom Line\naddLine(layer, rx*0.02, ry*0.94, rx*0.98, ry*0.94) \naddText(layer, font_system, \"Smourr Designs - Dispenser View \"..version..\" / Next volume update in: \"..upd_time_scr_msg..\" sec\", rx*0.03, ry*0.98)\n\n\n\n\n]]\n","filter":{"args":[],"signature":"onStart()","slotKey":"-5"},"key":"3"},{"code":"function F_update_screen()\n    -- Screen Text\n    screen_msg = [[\n    --------ScreenTextVariables--------\n    local version = \"]]..version..[[\"\n    local bg_red = \"]]..bg_color_red..[[\"\n    local bg_green = \"]]..bg_color_green..[[\"\n    local bg_blue = \"]]..bg_color_blue..[[\"\n    local bg_trans = \"]]..bg_color_trans..[[\"\n    local hd_red = \"]]..head_color_red..[[\"\n    local hd_green = \"]]..head_color_green..[[\"\n    local hd_blue = \"]]..head_color_blue..[[\"\n    local hd_trans = \"]]..head_color_trans..[[\"\n    local desc_red = \"]]..desc_color_red..[[\"\n    local desc_green = \"]]..desc_color_green..[[\"\n    local desc_blue = \"]]..desc_color_blue..[[\"\n    local desc_trans = \"]]..desc_color_trans..[[\"\n    local bg_pic = \"]]..bg_pic..[[\"\n    local item_header = \"]]..sale_header..[[\"\n    local item_pic = \"]]..sale_pic..[[\"\n    local upd_time_scr_msg = \"]]..upd_time_msg..[[\"\n    local quantity_scr_msg = \"]]..quantity_msg..[[\"\n    local sale_price = \"]]..sale_price..[[\"\n    local sale_volume = \"]]..sale_volume..[[\"\n    local text_L1 = \"]]..text_line_1..[[\"\n    local text_L2 = \"]]..text_line_2..[[\"\n    local text_L3 = \"]]..text_line_3..[[\"\n    local text_L4 = \"]]..text_line_4..[[\"\n    local text_L5 = \"]]..text_line_5..[[\"\n    local text_L6 = \"]]..text_line_6..[[\"\n    local text_L7 = \"]]..text_line_7..[[\"\n    local text_L8 = \"]]..text_line_8..[[\"\n    local text_L9 = \"]]..text_line_9..[[\"\n    local text_L10 = \"]]..text_line_10..[[\"\n    local text_L11 = \"]]..text_line_11..[[\"\n    ]]\n\n    screen1.setRenderScript(screen_msg..screenContent)\nend\n\nfunction F_container_update()\n    -- Init Container Update\n    --container1.updateContent()\n    \n    --Container check and output\n    container_update = container1.updateContent()\n    container_table = container1.getContent()\n\n    upd_time_msg = math.floor(container_update)\n    quantity_msg = math.floor(container_table[1].quantity)\n\n    --debug\n    --system.print(\"upd zeit \"..upd_time_msg)\n    --system.print(\"qty \"..quantity_msg)\nend","filter":{"args":[],"signature":"onStart()","slotKey":"-5"},"key":"4"}],"methods":[],"events":[]}
